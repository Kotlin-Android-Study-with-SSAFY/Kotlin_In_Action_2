# í´ë˜ìŠ¤, í”„ë¡œí¼í‹°

> Kotlin in action (p.69 ~ p.77) 

<br>

### í´ë˜ìŠ¤ ì„ ì–¸ (Java vs Kotlin)

```java
// Java
public class Person {
	private String name;
	
	public Person(String name) {
		this.name = name;
	}
	
	public String getName() {
		return name;
	}
	
	public void setName(String name) {
		this.name = name;
	}
}
```

```kotlin
// Kotlin
class Person(var name: String) {}
```

- access modifier, getter/setter, ìƒì„±ìê°€ ìƒëµëœ ëª¨ìŠµ
    - Kotlin ê¸°ë³¸ ì ‘ê·¼ì œí•œìëŠ” `public`
    - Javaì˜ ê²½ìš°, `(default)` ë˜ëŠ” `private`(ë©”ì„œë“œ)ì´ë‹¤.
- ìœ„ ì½”ë“œ ì²˜ëŸ¼ ë°ì´í„°ë§Œ ì €ì¥í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ value objectë¼ê³  ë¶€ë¥¸ë‹¤.

<br>

**ë³€ìˆ˜ ì„ ì–¸ ë°©ë²•**

- val : ì½ê¸° ì „ìš© ë³€ìˆ˜ ì„ ì–¸
- var : ë³€ê²½ ê°€ëŠ¥í•œ ë³€ìˆ˜ ì„ ì–¸

```kotlin
class Person(
	val name: String, // private í•„ë“œì™€ getter ìƒì„±
	var isMarried: Boolean // private í•„ë“œì™€ getter/setter ìƒì„±
)
```

> Javaì—ì„œ í•„ë“œ + ì ‘ê·¼ì ë©”ì„œë“œë¥¼ í”„ë¡œí¼í‹°ë¼ê³  í•¨.
Kotlinì—ì„œëŠ” ì ‘ê·¼ì ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— í•„ë“œë¥¼ í”„ë¡œí¼í‹°ë¼ê³  ë¶€ë¦„
> 

**í”„ë¡œí¼í‹° ì ‘ê·¼ ë°©ë²• (Java vs Kotlin)**

```java
// Java
Person person = new Person("jun");
person.getName();
person.setName("newName");
```

```kotlin
// Kotlin
val person = Person("jun")
person.name
person.name = "newName
```


ğŸ’¡ **Javaì—ì„œ ì„ ì–¸í•œ Classì— ëŒ€í•´ Kotlin ë¬¸ë²• ì‚¬ìš© ê°€ëŠ¥!**



### ì»¤ìŠ¤í…€ ì ‘ê·¼ì, Backing field

**Backing field**

- í”„ë¡œí¼í‹°ì˜ getter/setterë‚´ë¶€ì—ì„œ ê°’ì„ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì‹¤ì œ í•„ë“œ
- ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ë˜ëŠ” í•„ë“œê°€ ì¡´ì¬í•œë‹¤.
- ì»¤ìŠ¤í…€ ì ‘ê·¼ìë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©í•œë‹¤.

Backing Fieldë€ í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì‹¤ì œë¡œ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” í•„ë“œë¡œ, val ë˜ëŠ” varë¡œ ì„ ì–¸ëœ í”„ë¡œí¼í‹°ì— ëŒ€í•´ ìë™ ìƒì„±ëœë‹¤. 
    
ì¶”ê°€ë¡œ, getterë‚˜ setterì— ë¡œì§ì„ ì¶”ê°€í•˜ê³  ì‹¶ì„ ë•Œ í”„ë¡œí¼í‹°ë¥¼ ì €ì¥í•˜ëŠ” í•„ë“œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë§Œë“¤ ë•Œ ì‚¬ìš©í•œë‹¤. 
    
- field í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì‹¤ì œ ê°’ì„ ì €ì¥í•˜ëŠ” ë‚´ë¶€ í•„ë“œ ì ‘ê·¼ ê°€ëŠ¥
- fieldë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í”„ë¡œí¼í‹°ì— ì ‘ê·¼ì‹œ setter ë°˜ë³µí•´ì„œ í˜¸ì¶œí•˜ëŠ” ë¬´í•œ ì¬ê·€ì— ë¹ ì§ˆ ìˆ˜ ìˆë‹¤.



```kotlin
class Person(name: String, age: Int) {
  val name: String = name // name í”„ë¡œí¼í‹°, ë¶ˆë³€ ê°’ì´ë¯€ë¡œ Getter ë§Œ ì»¤ìŠ¤í…€ ê°€ëŠ¥
    get() {
      // ì—¬ê¸°ì„œ ë°ì´í„° ê°€ê³µ í›„ ë°˜í™˜, ê°€ê³µì´ í•„ìš”ì—†ë‹¤ë©´ Getter ë¥¼ êµ³ì´ ì»¤ìŠ¤í…€í•  í•„ìš”ëŠ” ì—†ë‹¤.
      return field
    }

  var age: Int = age // age í”„ë¡œí¼í‹°, ê°€ë³€ ê°’ì´ë¯€ë¡œ Getter, Setter ëª¨ë‘ ì»¤ìŠ¤í…€ ê°€ëŠ¥
    get() {
      // ì—¬ê¸°ì„œ ë°ì´í„° ê°€ê³µ í›„ ë°˜í™˜
      if (field < 0) return throw AssertionError("Must be greater than or equal to 0")
      return field
    }
    set(value) { // Assign í•œ Value ì˜ ê°’ì´ value ë§¤ê°œë³€ìˆ˜ë¡œ ë“¤ì–´ì˜¨ë‹¤.
      // ì—¬ê¸°ì„œ ë°ì´í„° ê°€ê³µ í›„ field ì— ë³´ê´€
      if (field < 0) {
        field = 0
      } else {
        field = value
      }
    }
}

// ì¶œì²˜ : https://ogoons.com/kotlin-properties-backing-fields
```

```java
class Rectangle(val height: Int, val width: Int) {
	val isSquare: Boolean
		get() {
			return height == width
		}
		// get() = height == width  // ì‚¬ìš© ê°€ëŠ¥
}
```


ğŸ’¡
**í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ë™ì¼í•˜ê²Œ êµ¬í˜„ ê°€ëŠ¥í•˜ë‚˜ í´ë˜ìŠ¤ì˜ íŠ¹ì„±ì„ ì •ì˜í•˜ê³  ì‹¶ë‹¤ë©´ í”„ë¡œí¼í‹°ë¡œ ì •ì˜í•˜ëŠ” ë°©ë²•ì´ ë” ì¢‹ë‹¤.**

<br>

### Kotlin ì†ŒìŠ¤ì½”ë“œ êµ¬ì¡°

- Kotlinë„ Javaì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ êµ¬ì„±í•˜ì§€ë§Œ, í•¨ìˆ˜ import, í•œ íŒŒì¼ ë‚´ ì—¬ëŸ¬ ê°œì˜ í´ë˜ìŠ¤ ì„ ì–¸, ì „ì—­ í•¨ìˆ˜, íŒŒì¼ëª…ê³¼ í´ë˜ìŠ¤ëª…ì˜ ë¶ˆì¼ì¹˜ ë“± ì°¨ì´ì ì´ ì¡´ì¬í•œë‹¤.


ğŸ’¡
**Javaì™€ì˜ ìƒí˜¸ ìš´ìš©ì„ ê³ ë ¤í•˜ì—¬ Javaì—ì„œ ì‚¬ìš©í•œ ë°©ì‹ì²˜ëŸ¼ íŒ¨í‚¤ì§€ë¥¼ êµ¬ì„±í•˜ë©´ì„œ ì½”ë“œ í¬ê¸°ê°€ ì‘ì€ í´ë˜ìŠ¤ì˜ ê²½ìš° í•œ íŒŒì¼ì— ë„£ëŠ” ê²ƒì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.**
